import{a as $,b as h}from"./DialogModal-eb5a5a39.js";import{_ as D}from"./PrimaryButton-acdac753.js";import{_ as v}from"./SecondaryButton-b158cb3b.js";import{S as A}from"./SectionBorder-99982ba1.js";import{d as w,u as g,o as r,e as i,b as c,a as e,w as o,f as p,g as u,F as P,i as B,t as l,n as k,h as n}from"./app-c69a2d8c.js";import{S as R}from"./sweetalert2.all-cb04d188.js";import"./SectionTitle-2d96ebbc.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={key:0},F={class:"mt-10 sm:mt-0"},I={class:"overflow-x-auto"},L={class:"min-w-full divide-y-2 divide-gray-200 text-sm"},N=e("thead",null,[e("tr",null,[e("th",{class:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"}," ID "),e("th",{class:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"}," Remote Address "),e("th",{class:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"}," Status "),e("th",{class:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"}," Protocol "),e("th",{class:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900 text-right"}," Action "),e("th",{class:"px-4 py-2"})])],-1),V={class:"divide-y divide-gray-200"},K={class:"whitespace-nowrap px-4 py-2 font-medium text-gray-900"},M={class:"whitespace-nowrap px-4 py-2 text-gray-700"},W={class:"whitespace-nowrap px-4 py-2 text-gray-700"},z={class:"whitespace-nowrap px-4 py-2 text-right"},Y=["onClick"],j=["onClick"],q=e("div",null," Are you sure you want to remove this tunnel? ",-1),G={key:0},H={key:0},J={key:1},O={key:2},oe={__name:"List",props:{tunnels:Array},setup(_){const m=w(!1),y=w(!1),C=d=>{m.value=!0,f.tunnel=d},T=d=>{y.value=!0,t.tunnel=d},b=()=>{m.value=!1,f.delete(route("tunnels.destroy",f.tunnel.id),{preserveScroll:!0,errorBag:"deleteTunnel",onSuccess:()=>{f.reset(),R.fire({icon:"success",title:"Tunnel deleted",text:"Tunnel deleted successfully,Tunnel will be deleted in 1 minute"})},onError:()=>{console.log(f.errors.deleteTunnel)}})},f=g({tunnel:null}),t=g({tunnel:null}),x=d=>{switch(d){case 1:return{class:"text-green-600",text:"Active"};case 2:return{class:"text-yellow-600",text:"Waiting Create"};case 4:return{class:"text-yellow-600",text:"Create Error(Waiting Retry)"};case 5:return{class:"text-red-600",text:"IP Changed"};case 6:return{class:"text-red-600",text:"Error"};case 7:return{class:"text-red-600",text:"Deleting"}}};return(d,a)=>_.tunnels.length>0?(r(),i("div",E,[c(A),e("div",F,[c($,null,{title:o(()=>[u(" Manage Tunnels ")]),description:o(()=>[u(" You ")]),content:o(()=>[e("div",I,[e("table",L,[N,e("tbody",V,[(r(!0),i(P,null,B(_.tunnels,s=>(r(),i("tr",{key:s.id},[e("td",K,l(s.id),1),e("td",M,l(s.remote),1),e("td",{class:k(["whitespace-nowrap px-4 py-2",x(s.status).class])},l(x(s.status).text),3),e("td",W,l(s.mode),1),e("td",z,[e("button",{class:"cursor-pointer ml-6 text-sm text-blue-500",onClick:S=>T(s)}," Detail ",8,Y),s.status!==7?(r(),i("button",{key:0,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:S=>C(s)}," Delete ",8,j)):p("",!0)])]))),128))])])])]),_:1})]),c(h,{show:m.value,onClose:a[1]||(a[1]=s=>m.value=!1)},{title:o(()=>[u(" Remove Tunnel ")]),content:o(()=>[q]),footer:o(()=>[c(D,{onClick:b},{default:o(()=>[u(" Remove ")]),_:1}),c(v,{onClick:a[0]||(a[0]=s=>m.value=!1)},{default:o(()=>[u(" Close ")]),_:1})]),_:1},8,["show"]),c(h,{show:y.value,onClose:a[3]||(a[3]=s=>y.value=!1)},{title:o(()=>[u(" Tunnel #"+l(n(t).tunnel.id),1)]),content:o(()=>[e("div",null,[e("p",null," Remote Address: "+l(n(t).tunnel.remote),1),e("p",null,"Protocol: "+l(n(t).tunnel.mode),1),e("p",null,[u("Status: "),e("span",{class:k(x(n(t).tunnel.status).class)},l(x(n(t).tunnel.status).text),3)]),e("p",null,"Created At: "+l(n(t).tunnel.created_at),1),n(t).tunnel.config?(r(),i("div",G,[n(t).tunnel.config.local.pubkey?(r(),i("p",H,"Local Public Key: "+l(n(t).tunnel.config.local.pubkey),1)):p("",!0),n(t).tunnel.config.local.privkey?(r(),i("p",J,"Local Privacy Key: "+l(n(t).tunnel.config.local.privkey),1)):p("",!0),n(t).tunnel.config.remote.pubkey?(r(),i("p",O,"Server Public Key: "+l(n(t).tunnel.config.remote.pubkey),1)):p("",!0)])):p("",!0)])]),footer:o(()=>[c(v,{onClick:a[2]||(a[2]=s=>y.value=!1)},{default:o(()=>[u(" Close ")]),_:1})]),_:1},8,["show"])])):p("",!0)}};export{oe as default};
