import{a as k,b as g}from"./DialogModal-5fc33cd5.js";import{_ as y}from"./PrimaryButton-e6df4edc.js";import{_ as h}from"./SecondaryButton-610e7efb.js";import{S as C}from"./SectionBorder-cfd39439.js";import{d as v,u as x,o as r,e as n,b as a,a as e,w as s,f as c,g as l,F as $,i as S,t as _}from"./app-31ebc7b5.js";import"./sweetalert2.all-7d9d7d86.js";import"./SectionTitle-1fa548b2.js";import"./_plugin-vue_export-helper-c27b6911.js";const R={key:0},F={class:"mt-10 sm:mt-0"},N={class:"overflow-x-auto"},A={class:"min-w-full divide-y-2 divide-gray-200 text-sm"},D=e("thead",null,[e("tr",null,[e("th",{class:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"}," ID "),e("th",{class:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"}," ASN "),e("th",{class:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"}," Tunnel "),e("th",{class:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"}," Status "),e("th",{class:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900 text-right"}," Action "),e("th",{class:"px-4 py-2"})])],-1),V={class:"divide-y divide-gray-200"},E={class:"whitespace-nowrap px-4 py-2 font-medium text-gray-900"},M={class:"whitespace-nowrap px-4 py-2 font-medium text-gray-900"},W={class:"whitespace-nowrap px-4 py-2 font-medium text-gray-900"},L={class:"whitespace-nowrap px-4 py-2 font-medium text-gray-900"},T={key:0,class:"badge badge-accent"},I={key:1,class:"badge badge-secondary"},j={key:2,class:"badge badge-secondary"},q={key:3,class:"badge badge-secondary"},z={class:"whitespace-nowrap px-4 py-2 text-right"},H=["onClick"],J=["onClick"],K=e("div",null," Are you sure you want to remove this BGP? ",-1),O=e("div",null," Are you sure you want to remove this BGP? ",-1),oe={__name:"List",props:{bgp:Array},setup(f){const i=v(!1),u=v(!1),b=m=>{i.value=!0,d.bgp=m},w=m=>{u.value=!0,p.bgp=m},d=x({bgp:null}),p=x({bgp:null}),B=()=>{i.value=!1,d.delete(route("bgp.destroy",d.bgp.id),{preserveScroll:!0,errorBag:"deleteBGP",onSuccess:()=>{d.reset()},onError:()=>{console.log(d.errors.deleteBGP)}})},G=()=>{u.value=!1,p.put(route("bgp.rebuild",p.bgp.id),{preserveScroll:!0,errorBag:"deleteBGP",onSuccess:()=>{p.reset()},onError:()=>{console.log(d.errors.rebuildBGPForm)}})};return(m,o)=>f.bgp.length>0?(r(),n("div",R,[a(C),e("div",F,[a(k,null,{title:s(()=>[l(" Manage BGPs ")]),description:s(()=>[]),content:s(()=>[e("div",N,[e("table",A,[D,e("tbody",V,[(r(!0),n($,null,S(f.bgp,t=>(r(),n("tr",{key:t.id},[e("td",E," #"+_(t.id),1),e("td",M,_(t.asn.asn),1),e("td",W," ("+_(t.tunnel.id)+") "+_(t.tunnel.remote),1),e("td",L,[t.status===1?(r(),n("div",T,"Normal")):c("",!0),t.status===2?(r(),n("div",I,"Waiting create")):c("",!0),t.status===3?(r(),n("div",j,"Waiting rebuild")):c("",!0),t.status===4?(r(),n("div",q,"Waiting delete")):c("",!0)]),e("td",z,[e("button",{class:"cursor-pointer ml-6 text-sm text-warning",onClick:P=>w(t)}," Rebuild ",8,H),e("button",{class:"cursor-pointer ml-6 text-sm text-red-500",onClick:P=>b(t)}," Delete ",8,J)])]))),128))])])])]),_:1})]),a(g,{show:i.value,onClose:o[1]||(o[1]=t=>i.value=!1)},{title:s(()=>[l(" Remove BGP ")]),content:s(()=>[K]),footer:s(()=>[a(y,{onClick:B},{default:s(()=>[l(" Remove ")]),_:1}),a(h,{onClick:o[0]||(o[0]=t=>i.value=!1)},{default:s(()=>[l(" Close ")]),_:1})]),_:1},8,["show"]),a(g,{show:u.value,onClose:o[3]||(o[3]=t=>u.value=!1)},{title:s(()=>[l(" Rebuild BGP ")]),content:s(()=>[O]),footer:s(()=>[a(y,{onClick:G},{default:s(()=>[l(" Remove ")]),_:1}),a(h,{onClick:o[2]||(o[2]=t=>i.value=!1)},{default:s(()=>[l(" Close ")]),_:1})]),_:1},8,["show"])])):c("",!0)}};export{oe as default};
